<html>
<head>
    <meta charset="UTF-8">
    <title>a place to experiment</title>
    <link rel="stylesheet" type="text/css" href="../css/adcolony.css">
    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
<script src="http://code.highcharts.com/highcharts.js"></script>
<script src="http://code.highcharts.com/highcharts-more.js"></script>
</head>
<body>
<div id="ac-content-container">
    <div class="row-fluid">
    <div class="br-row">    
        <div class="br-info-card-modal br-placeholder-card">
            <div class="br-modal-bg"></div>
            <div class="br-info-card br-bordered-card">
        		<img src="../img/icon-dec-views.png" class="br-info-icon">
        		<div class="br-names br-info-title">DEC VIEWS</div>
        		<div class="br-numbers br-info-header">124,643</span></div>
        		<div class="br-names br-info-sub-title">Total DEC Views</div>
        		<div id="chart_container_views" class="br-info-chart"> Chart Here </div>
        		<br/>
        		<div class="br-names br-info-chart-title">Exposure Time</div>
        	</div>
        </div>      
        <div class="br-info-card-modal br-placeholder-card">
            <div class="br-modal-bg"></div>
            <div id="center_info_card" class="br-info-card br-bordered-card">
                <img src="../img/icon-engagement.png" class="br-info-icon">
                <div class="br-names br-info-title">ENAGEMENT RATE</div>
                <div class="br-numbers br-info-header">3.17<span class="br-symbol">%</span></div>
                <div class="br-names br-info-sub-title">Overall Engagement Rate</div>
                <div id="chart_container_enagements" class="br-info-chart" style="width:260px;height:260px;margin: 0 auto;"> Chart Here </div>
                <br/>
                <div class="br-names br-info-chart-title">Exposure Time</div>
            </div>
        </div>      
        <div class="br-info-card-modal br-placeholder-card">
            <div class="br-modal-bg"></div>
            <div class="br-info-card br-bordered-card">
                <img src="../img/icon-kpi.png" class="br-info-icon">
                <div class="br-names br-info-title">KPI RATE</div>
                <div class="br-numbers br-info-header">1.43<span class="br-symbol">%</span></div>
                <div class="br-names br-info-sub-title">Overall KPI Rate</div>
                <div id="chart_container_kpi" class="br-info-chart" style="width:250px;height:250px;margin: 0 auto;"> Chart Here </div>
                <br/>
                <div class="br-names br-info-chart-title">Exposure Time</div>
            </div>
        </div>	
    </div>
    </div>  
    <div class="row-fluid">
    <div class="br-row">
        <div class="br-info-card-modal br-placeholder-card">
            <div class="br-modal-bg"></div>
            <div id="test_card" class="br-info-card wide tall br-bordered-card">
                <img src="../img/icon-dec-views.png" class="br-info-icon">
                <div class="br-names br-info-title">DEC VIEWS</div>
                <div class="br-numbers br-info-header">124,643</span></div>
                <div class="br-names br-info-sub-title">Total DEC Views</div>
                <button class="btn br-names btn-br-info-action" onclick="toggleText(this)">PLACEMENTS</button>
                <div class="br-info-chart"><div id="chart_container_wide_1">Chart Here</div></div>
                <div class="br-names br-info-chart-title">Exposure Time</div>
            </div>
        </div>      
        <div class="br-info-card-modal br-placeholder-card">
            <div class="br-modal-bg"></div>
            <div id="test_card2" class="br-info-card wide short br-bordered-card">
                <img src="../img/icon-dec-views.png" class="br-info-icon">
                <p class="br-names br-info-title">DEC VIEWS</p>
                <div class="br-numbers br-info-header">124,643</div>
                <div class="br-names br-info-sub-title">Total DEC Views</div>
                <button class="btn br-names btn-br-info-action" onclick="toggleText(this)">PLACEMENTS</button>
                <div id="chart_container_wide_2" class="br-info-chart"> Chart Here </div>
                <div class="br-names br-info-chart-title">Exposure Time</div>
            </div>
        </div> 
        <div class="br-info-card-modal br-placeholder-card">
            <div class="br-modal-bg"></div>
            <div id="test_card3" class="br-info-card wide short side-by-side br-bordered-card">
                <div class="left-side">
                    <img src="../img/icon-dec-views.png" class="br-info-icon">
                    <div class="br-names br-info-title">DEC VIEWS</div>
                    <div class="br-numbers br-info-header">124,643</span></div>
                    <div class="br-names br-info-sub-title">Total DEC Views</div>
                </div>
                <div class="right-side">
                    <div class="br-info-chart"><div id="chart_container_wide_2">Chart Here</div></div>
                </div>                
            </div>
        </div> 
    </div>
    </div>
    <div class="row-fluid">
    <div class="br-row">    
        <div class="br-info-card-modal br-placeholder-card">
            <div class="br-modal-bg"></div>
            <div id="full_width_card" class="br-info-card full-width br-bordered-card">
                <div class="br-sub-card">
                    <img src="../img/icon-dec-views.png" class="br-info-icon">
                    <div class="br-names br-info-title">DEC VIEWS</div>
                    <div class="br-numbers br-info-header">3,291</div>
                    <div class="br-names br-info-sub-title">Total DEC Views</div>
                </div>
                <div class="br-sub-card">
                    <img src="../img/icon-dec-views.png" class="br-info-icon">
                    <div class="br-names br-info-title">AVERAGE LOAD TIME</div>
                    <div class="br-numbers br-info-header">0.21</div>
                    <div class="br-names br-info-sub-title">Seconds</div>
                </div>
                <div class="br-sub-card">
                    <img src="../img/icon-dec-views.png" class="br-info-icon">
                    <div class="br-names br-info-title">FAILURE RATE</div>
                    <div class="br-numbers br-info-header">12.3%</div>
                    <div class="br-names br-info-sub-title">DEC Failure Rate</div>
                </div>
            </div>
        </div>
    </div>    
    </div>
    <div class="row-fluid" style="height:100px;"></div>
</div>
<script type="text/javascript">
function toggleInfoCardToModal(e) {
    var target = null;
    if (typeof e.currentTarget.container !== "undefined" && e.currentTarget.container !== null) {
        target = e.currentTarget.container.parentNode;
    } else {
        target = e.currentTarget;
    }
    var child = $(target);
    var el = child.parents('.br-info-card-modal');
    var modal = el.children('.br-info-card');
    el.toggleClass('active');
    if (el[0].className.indexOf('active') >= 0) {
        var container_width = el.offsetParent().width();
        var modal_width = modal.outerWidth();
        var modal_position = modal.position().left;
        var offset = ((container_width - modal_width) / 2) - modal_position;
        modal.css('margin-left', offset);
        var offset_top = ($(window).height() - modal.height()) / 2;
        $('html, body').animate({
            scrollTop: modal.offset().top - offset_top
        }, 1000);
    } else {
        modal.css('margin-left', '');
    }
}

$('#center_info_card').on('click', function(e) {
    console.log("Info Card Clicked");
    if ($(e.target).hasClass("btn-br-info-action")) {
        e.stopPropagation();
        e.preventDefault()
        return;
    }
    toggleInfoCardToModal(e);
});
$('.br-modal-bg').on('click', function(e) {
    toggleInfoCardToModal(e)
})
</script>
<script type="text/javascript">
function toggleText(el) {
    if (el.innerHTML === "PLACEMENTS") {
        el.innerHTML = "CREATIVES";
    } else {
        el.innerHTML = "PLACEMENTS";
    }
}
</script>
<script type="text/javascript">
$(function () {
    $('#chart_container_wide_1').highcharts({
        "title":null,
        "credits":{"enabled":false},
        "navigation":{"buttonOptions":{"enabled":false}},
        "chart":{"events":{},"type":"bar"},
        "legend":{"enabled":false},
        "tooltip":false,
        "plotOptions":{"bar":{"pointWidth":10,"borderRadius":3}},
        "yAxis":{"gridLineWidth":0,"tickPixelInterval":10000,"title":null,"labels":{"enabled":false}},
        "xAxis":{
            "categories":["Magic Jigsaw Puzzles iOS","Magic Jigsaw Puzzles Android","Magic Jigsaw Puzzles Amazon","Lil Quest iOS","Muffin Quest, Android","Lil Quest Android"],
            "gridLineWidth":0,"lineWidth":0,"tickWidth":0,"title":null,
            "labels":{
                "x":0,
                "y":-10,
                align: 'left',
                "style":{
                    "fontFamily":"Whitney",
                    "fontWeight":"normal",
                    "fontSize":13,
                    "color":"#4D4E4E",
                    whiteSpace: 'nowrap'
                }
            }
        },
        "series":[{"data":[{"y":10335,"color":"#69d0f5","dataLabels":{"enabled":true,"y":-1,"style":{"fontWeight":"bold","fontFamily":"Whitney","fontSize":15,"color":"#69d0f5"}}},{"y":109,"color":"#5c9be0","dataLabels":{"enabled":true,"y":-1,"style":{"fontWeight":"bold","fontFamily":"Whitney","fontSize":15,"color":"#5c9be0"}}},{"y":7,"color":"#506acc","dataLabels":{"enabled":true,"y":-1,"style":{"fontWeight":"bold","fontFamily":"Whitney","fontSize":15,"color":"#506acc"}}},{"y":0,"color":"#4944b8","dataLabels":{"enabled":true,"y":-1,"style":{"fontWeight":"bold","fontFamily":"Whitney","fontSize":15,"color":"#4944b8"}}},{"y":20,"color":"#5a39a3","dataLabels":{"enabled":true,"y":-1,"style":{"fontWeight":"bold","fontFamily":"Whitney","fontSize":15,"color":"#5a39a3"}}},{"y":8,"color":"#652f8f","dataLabels":{"enabled":true,"y":-1,"style":{"fontWeight":"bold","fontFamily":"Whitney","fontSize":15,"color":"#652f8f"}}}],"_colorIndex":0}]});
});
</script>
<script type="text/javascript">
$(function () {
    $('#chart_container_wide_4').highcharts({

        title: {
            text: null  // No chart title
        },        
        chart: {
            type: 'bar',
            events: {
                click: function(e) {
                    console.log("Chart clicked");
                    toggleInfoCardToModal(e);
                }
            }
        },
        legend: {
            enabled: false // No legend
        },  
        tooltip: false,  // No tooltip
        yAxis: {
            gridLineWidth: 0, // Hide the grid lines
            tickPixelInterval: 10000, // Use the chart's height so only 2 ticks will be placed
            labels: {
                // This html route sort of works, but it's easier to just use the style block
                // useHTML: true,
                // formatter: function () {
                //   return "<span class='axis-label'>"+this.value+"</span>";
                // }
                enabled: false
            },
            title: null // No title for y-axis
        },
        xAxis: {    // Dotted grid lines
            gridLineColor: '#BBBBB7',
            gridLineWidth: 0,
            gridLineDashStyle: 'dot',
            tickmarkPlacement: 'on',
            categories: ['Placement #1', 'Placement #2', 'Placement #3', 'Placement #4'],
            lineWidth: 0,   // Hide axis line
            tickWidth: 0,   // Hide tick lines
            title: null,
            labels: {
                style: {
                    fontFamily: 'Proxima',
                    fontWeight: 'normal',
                    fontSize: 13,
                    color: '#444445'                    
                },
                align: 'left',
                x: 0,
                y: -10
            }
        },
        plotOptions: {
            bar: {   // Rounded 10 pixel columns
                pointWidth: 10,
                borderRadius: 3
            }
        },
        series: [{  // Each point needs to be an object so the column and label can be the same color
            data: [{
                y: 21634,
                color: '#BD3E97',
                dataLabels: {
                    enabled: true,
                    y: -1,
                    style: {
                        fontWeight: 'bold',
                        fontFamily: 'Whitney',
                        fontSize: 15,
                        color: '#BD3E97',
                        textShadow: 'none'
                    }
                }
            }, {
                y: 19421,
                color: '#9659A4',
                dataLabels: {
                    enabled: true,
                    y: -1,
                    style: {
                        fontWeight: 'bold',
                        fontFamily: 'Whitney',
                        fontSize: 15,
                        color: '#9659A4',
                        textShadow: 'none'
                    }
                }
            }, {
                y: 9526,
                color: '#6966AF',
                dataLabels: {
                    enabled: true,
                    y: -1,
                    style: {
                        fontWeight: 'bold',
                        fontFamily: 'Whitney',
                        fontSize: 15,
                        color: '#6966AF',
                        textShadow: 'none'
                    }
                }
            }, {
                y: 5444,
                color: '#0070B8',
                dataLabels: {
                    enabled: true,
                    y: -1,
                    style: {
                        fontWeight: 'bold',
                        fontFamily: 'Whitney',
                        fontSize: 15,
                        color: '#0070B8',
                        textShadow: 'none'
                    }
                }
            }]
        }]

    });
});
</script>
<script type="text/javascript">
$(function () {

    /**
     * Get the current time
     */
    function getNow() {
        var now = new Date();

        return {
            hours: now.getHours() + now.getMinutes() / 60,
            minutes: now.getMinutes() * 12 / 60 + now.getSeconds() * 12 / 3600,
            seconds: now.getSeconds() * 12 / 60
        };
    }

    /**
     * Pad numbers
     */
    function pad(number, length) {
        // Create an array of the remaining length + 1 and join it with 0's
        return new Array((length || 2) + 1 - String(number).length).join(0) + number;
    }

    var now = getNow();

    // Create the chart
    $('#chart_container_kpi').highcharts({

        chart: {
            type: 'gauge',
            plotBackgroundColor: null,
            plotBackgroundImage: '../img/clock-bg-white-test.png',
            plotBorderWidth: 0,
            plotShadow: false,
            height: 250,
            spacing: [0, 10, 0, 10],
            marginTop: 5,
            // spacingTop: 0
            // spacingTop: 0,
            // spacingBottom: 20
        },

        credits: {
            enabled: false
        },

        title: {
            text: null
        },

        pane: {
            background: [{
                // default background
                backgroundColor: null,
                borderColor: null
            }]
        },

        yAxis: {
            labels: {
                enabled: false,
                distance: -20
            },
            min: 0,
            max: 12,
            lineWidth: 0,
            showFirstLabel: false,

            minorTickInterval: null,
            tickLength: 0,
            title: {
                enabled: false,
                style: {
                    color: '#BBB',
                    fontWeight: 'normal',
                    fontSize: '8px',
                    lineHeight: '10px'
                },
                y: 10
            },
            plotBands: [{
                from: 0,
                to: 2.8,
                color: 'rgba(41, 171, 223, 1)',
                innerRadius: '72%',
                outerRadius: '75%'
            }]
        },

        tooltip: {
            enabled: false,
            formatter: function () {
                return this.series.chart.tooltipText;
            }
        },
        
        plotOptions: {
            gauge: {
                pivot: {
                    radius: 4,
                    backgroundColor: 'white',
                    borderWidth: 3,
                    borderColor: 'red'
                },
                dial: {
                    radius: '98%',
                    baseWidth: 3,
                    rearLength: '10%',
                    backgroundColor: 'red',
                    baseLength: '99%'
                }
            }
        },

        series: [{
            data: [{
                id: 'second',
                y: 2.8,
            }],
            animation: false,
            dataLabels: {
                enabled: false
            }
        }]
    }

       );
});
</script>
<script type="text/javascript">
$(function () {

    /**
     * Get the current time
     */
    function getNow() {
        var now = new Date();

        return {
            hours: now.getHours() + now.getMinutes() / 60,
            minutes: now.getMinutes() * 12 / 60 + now.getSeconds() * 12 / 3600,
            seconds: now.getSeconds() * 12 / 60
        };
    }

    /**
     * Pad numbers
     */
    function pad(number, length) {
        // Create an array of the remaining length + 1 and join it with 0's
        return new Array((length || 2) + 1 - String(number).length).join(0) + number;
    }

    var now = getNow();

    // Create the chart
    $('#chart_container_enagements').highcharts({

        chart: {
            type: 'gauge',
            plotBackgroundColor: null,
            plotBackgroundImage: null,
            plotBorderWidth: 0,
            plotShadow: false,
            height: 260
        },

        credits: {
            enabled: false
        },

        title: {
            text: null
        },

        pane: {
            background: [{
                // default background
                backgroundColor: 'rgba(48, 57, 62, 1)',
                borderColor: 'rgba(115, 131, 138, 1)',
                borderWidth: 10
            }]
        },

        yAxis: {
            labels: {
                enabled: false,
                distance: -20
            },
            min: 0,
            max: 12,
            lineWidth: 0,
            showFirstLabel: false,

            minorTickInterval: 'auto',
            minorTickWidth: 1,
            minorTickLength: 10,
            minorTickPosition: 'inside',
            minorGridLineWidth: 0,
            minorTickColor: 'rgba(78, 108, 132, 1)',
            offset: -10,

            tickInterval: 1,
            tickWidth: 2,
            tickPosition: 'inside',
            tickLength: 10,
            tickColor: 'rgba(207, 223, 231, 1)',
            title: {
                enabled: false,
                style: {
                    color: '#BBB',
                    fontWeight: 'normal',
                    fontSize: '8px',
                    lineHeight: '10px'
                },
                y: 10
            },
            plotBands: [{
                from: 0,
                to:12,
                color: 'rgba(64, 75, 96, 1)',
                innerRadius: '73%',
                outerRadius: '74%',
                dashStyle: 'dot' // This unfortunately doesn't work..
            }, {
                from: 0,
                to: 2.8,
                color: 'rgba(41, 171, 223, 1)',
                innerRadius: '72%',
                outerRadius: '75%'
            }]
        },

        tooltip: {
            enabled: false,
            formatter: function () {
                return this.series.chart.tooltipText;
            }
        },
        
        plotOptions: {
            gauge: {
                pivot: {
                    radius: 4,
                    backgroundColor: 'white',
                    borderWidth: 3,
                    borderColor: 'red'
                },
                dial: {
                    radius: '98%',
                    baseWidth: 3,
                    rearLength: '10%',
                    backgroundColor: 'red',
                    baseLength: '99%'
                }
            }
        },

        series: [{
            data: [{
                id: 'second',
                y: 2.8,
            }],
            animation: false,
            dataLabels: {
                enabled: false
            }
        }]
    }

       );
});
</script>
<script type="text/javascript">
$(function () {
    $('#chart_container_views').highcharts({

        title: {
            text: null  // No chart title
        },        
        chart: {
            type: 'column',
            events: {
                click: function(e) {
                    console.log("Chart clicked");
                    toggleInfoCardToModal(e);
                }
            }
        },
        legend: {
            enabled: false // No legend
        },  
        tooltip: false,  // No tooltip
        yAxis: {
            gridLineWidth: 0, // Hide the grid lines
            tickPixelInterval: 10000, // Use the chart's height so only 2 ticks will be placed
            labels: {
                // This html route sort of works, but it's easier to just use the style block
                // useHTML: true,
                // formatter: function () {
                //   return "<span class='axis-label'>"+this.value+"</span>";
                // }
                style: {    // Style the labels as spec'd by bchau
                    fontFamily: 'Whitney',
                    fontWeight: 'normal',
                    fontSize: 13,
                    color: '#CFCFCF'                    
                }
            },
            title: null // No title for y-axis
        },
        xAxis: {    // Dotted grid lines
            gridLineColor: '#BBBBB7',
            gridLineWidth: 1,
            gridLineDashStyle: 'dot',
            tickmarkPlacement: 'on',
            categories: ['0-5', '6-10', '11-19', '20+'],
            lineWidth: 0,   // Hide axis line
            tickWidth: 0,   // Hide tick lines
            title: {
                text: 'Seconds',
                style: {
                    fontFamily: 'ProximaNova',
                    fontWeight: 'normal',
                    fontSize: 11,
                    color: '#CFCFCF'                    
                }
            },
            labels: {
                style: {
                    fontFamily: 'Whitney',
                    fontWeight: 'normal',
                    fontSize: 13,
                    color: '#4D4E4E'                    
                }
            }
        },
        plotOptions: {
            column: {   // Rounded 10 pixel columns
                pointWidth: 10,
                borderRadius: 3
            }
        },
        series: [{  // Each point needs to be an object so the column and label can be the same color
            data: [{
                y: 21634,
                color: '#BD3E97',
                dataLabels: {
                    enabled: true,
                    y: -6,
                    style: {
                        fontWeight: 'bold',
                        fontFamily: 'Whitney',
                        fontSize: 15,
                        color: '#BD3E97',
                        textShadow: 'none'
                    }
                }
            }, {
                y: 19421,
                color: '#9659A4',
                dataLabels: {
                    enabled: true,
                    y: -6,
                    style: {
                        fontWeight: 'bold',
                        fontFamily: 'Whitney',
                        fontSize: 15,
                        color: '#9659A4',
                        textShadow: 'none'
                    }
                }
            }, {
                y: 9526,
                color: '#6966AF',
                dataLabels: {
                    enabled: true,
                    y: -6,
                    style: {
                        fontWeight: 'bold',
                        fontFamily: 'Whitney',
                        fontSize: 15,
                        color: '#6966AF',
                        textShadow: 'none'
                    }
                }
            }, {
                y: 5444,
                color: '#0070B8',
                dataLabels: {
                    enabled: true,
                    y: -6,
                    style: {
                        fontWeight: 'bold',
                        fontFamily: 'Whitney',
                        fontSize: 15,
                        color: '#0070B8',
                        textShadow: 'none'
                    }
                }
            }]
        }]

    });
});
</script>
</body>
</html>